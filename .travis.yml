sudo: false

notifications:
  email:
    - mdboom@gmail.com

  on_success: change
  on_failure: always

env:
  global:
    - secure: "ZtFvWUWYhcMLy5v5nboKuGAuAeUS72NYm0zaDEokprtuKc7QNKPNXUPeq8AKqzU/Zfe445wKjhP6CjBXQPcGBFYYCaMKflfOfW6ZCsHYZ0r9tOqjk7IsM1ySA3SCjVxkCnoH1KS0XK0pl3sHZP3plTGUJH2Fc9SGKgtTzGW/0uI="

language: python

branches:
  only:
    - master

before_install:
  - pip install 'sphinx<1.6'
  - pip install sphinx_bootstrap_theme
  - pip install jsonschema
  - bash -x ./install-texlive.sh
  - export PATH=$PWD/texlive/bin/x86_64-linux:$PATH

install:
  - make html latexpdf

script:
  - bash -x ./travis_deploy.sh
